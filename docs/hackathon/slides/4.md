# TX Submission

Cardano Node has a `local-tx-submission` API for submitting transactions to a local node.

## Submit

```rust
let response = client
    .submission()
    .submit_tx(EraTx(era, cbor.to_vec()))
    .await?;

match response {
    Response::Accepted => println!("OK."),
    Response::Rejected(reason) => println!("Rejected: {:?}", hex::encode(reason.0)),
    // PR for decoding reason: https://github.com/txpipe/pallas/pull/562
}
```

## Monitor

```rust
let monitor = client.monitor();
monitor.acquire().await?;

let res = monitor.query_has_tx(tx_id.clone()).await?;
println!("has_tx: {:?}", res);

monitor.release().await?;
```

## Querying

Includes many APIs like `utxos_by_address`, `utxos_by_txin`, `utxos_by_txid`, `get_cbor` etc. No need for Ogmios

```rust
let statequery = client.statequery();
statequery.acquire(None).await?;
let era = get_current_era(statequery).await?;
let chain_tip_slot = match get_chain_point(statequery).await? {
    Point::Origin => panic!("chain tip is not known"),
    Point::Specific(slot, _) => slot,
};
statequery.send_release().await?;
```

## Future work

Possible to use a local mempool and send the transaction to many Cardano nodes in parallel, not just our own.
